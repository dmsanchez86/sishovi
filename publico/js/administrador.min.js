$(".ui.dropdown").dropdown();$(document).on("click","#consultarU",function(a){usuario=$("#busqueda").val();tipo=$("#estado").dropdown("get value");elem=$(this);
$.post(baseurl+"index.php/usuarioC/consultar",{usuario:usuario,tipo:tipo},function(b,d,c){$("#respuesta").html(b);});});$(document).on("click","#consultarA",function(a){$(".message").remove();
$area=$("#busqueda").val();$tipo=$("#estado").dropdown("get value");elem=$(this);$.post(baseurl+"index.php/areaC/consultar",{area:$area,tipo:$tipo},function(b,d,c){$("#respuesta").html(b);
});});$(document).on("click","#consultarE",function(a){$empresa=$("#busqueda").val();$tipo=$("#estado").dropdown("get value");elem=$(this);$.post(baseurl+"index.php/empresaC/consultar",{empresa:$empresa,tipo:$tipo},function(b,d,c){$("#respuesta").html(b);
});});$(document).on("click","#consultarC",function(a){$cargo=$("#busqueda").val();$tipo=$("#estado").dropdown("get value");elem=$(this);$.post(baseurl+"index.php/cargoC/consultar",{cargo:$cargo,tipo:$tipo},function(b,d,c){$("#respuesta").html(b);
});});$(document).on("click","#consultarP",function(a){$profesion=$("#busqueda").val();$tipo=$("#estado").dropdown("get value");elem=$(this);$.post(baseurl+"index.php/profesionC/consultar",{profesion:$profesion,tipo:$tipo},function(b,d,c){$("#respuesta").html(b);
});});tablaExp=0;tablaAnexo=0;valida=true;var contadorArchivos=1;$(document).ready(function(){$(document).on("click","#consultarH",consultaHojasVida);$(document).on("click","#consultarPer",consultaPersona);
$(document).on("click","#consultarPro",consultaPrograma);$(document).on("click",".estadoUsuario",estadoUsuario);$(document).on("click",".estadoArea",estadoArea);
$(document).on("click",".estadoEmpresa",estadoEmpresa);$(document).on("click",".estadoCargo",estadoCargo);$(document).on("click",".estadoVinculacion",estadoVinculacion);
$(document).on("click",".estadoProfesion",estadoProfesion);$(document).on("click",".estadoPrograma",estadoPrograma);$(document).on("click",".estadoTipoVinculacion",estadoTipoVinculacion);
$(document).on("click",".estadoTipoSoporte",estadoTipoSoporte);$(document).on("click","#consultarV",consultaTipoVinculacion);$(document).on("click","#consultarVin",consultaVinculacion);
$(document).on("click","#consultarSop",consultaSoporte);$(document).on("click","#consultarTd",consultaDocumento);$(document).on("click","#btnFormExp",agregaExpForm);
$(document).on("click","#agregarSoporte",soportes);$(document).on("click",".remover",borrarFila);$(document).on("click","#guardarHojaVida",guardarHojaVida);
$(document).on("click","#guardarArea",guardarArea);$(document).on("click","#guardarEmpresa",guardarEmpresa);$(document).on("click","#guardarCargo",guardarCargo);
$(document).on("click","#guardarProfesion",guardarProfesion);$(document).on("click","#guardarUsuario",guardarUsuario);$(document).on("click","#guardarPrograma",guardarPrograma);
$(document).on("click","#guardarTipoVinculacion",guardarTipoVinculacion);$(document).on("click","#guardarVinculacion",guardarVinculacion);$(document).on("click","#guardarTipoSoporte",guardarTipoSoporte);
$(document).on("click","#guardarTipoDocumento",guardarTipoDocumento);$(document).on("click","#cerrar",cerrar);$(document).on("keyup","#documento",validarExistenciaPersona);
$(document).on("keyup","#documentoUsuario",validarExistenciaUsuario);$(document).on("keyup","#documentoVinculacion",validarVinculacion);$(document).on("click","#actualizarArea",actualizarArea);
$(document).on("click","#actualizarCargo",actualizarCargo);$(document).on("click","#actualizarEmpresa",actualizarEmpresa);$(document).on("click","#actualizarProfesion",actualizarProfesion);
$(document).on("click","#actualizarPrograma",actualizarPrograma);$(document).on("click","#actualizarTipoVinculacion",actualizarTipoVinculacion);$(document).on("click","#actualizarTipoSoporte",actualizarTipoSoporte);
$(document).on("click","#actualizarTipoDocumento",actualizarTipoDocumento);$(document).on("click","#actualizarUsuario",actualizarUsuario);$(document).on("click","#actualizarVinculacion",actualizarVinculacion);
$(document).on("click","#actualizarClave",actualizarClave);$(document).on("click",".btnRestablecerClave",void_RestablecerClave);$(document).on("click","#desvincular",desvincular);
$(document).on("click","#actualizarHojaVida",actualizarHojaVida);$(document).on("click","#subirSoporte",subirSoporte);});function estadoUsuario(){elemento=$(this);
idUsuario=elemento.parents("tr").data("usuario");elemento.checkbox("is checked")?activo=1:activo=2;$.post(baseurl+"index.php/usuarioC/cambiarEstado",{activo:activo,idUsuario:idUsuario},function(a,c,b){});
}function estadoArea(){elemento=$(this);idArea=elemento.parents("tr").data("area");elemento.checkbox("is checked")?activo=1:activo=2;$.post(baseurl+"index.php/areaC/cambiarEstado",{activo:activo,idArea:idArea},function(a,c,b){});
}function estadoEmpresa(){elemento=$(this);idEmpresa=elemento.parents("tr").data("empresa");elemento.checkbox("is checked")?activo=1:activo=2;$.post(baseurl+"index.php/empresaC/cambiarEstado",{activo:activo,idEmpresa:idEmpresa},function(a,c,b){});
}function estadoCargo(){elemento=$(this);idCargo=elemento.parents("tr").data("cargo");elemento.checkbox("is checked")?activo=1:activo=2;$.post(baseurl+"index.php/cargoC/cambiarEstado",{activo:activo,idCargo:idCargo},function(a,c,b){});
}function estadoProfesion(){elemento=$(this);idProfesion=elemento.parents("tr").data("profesion");elemento.checkbox("is checked")?activo=1:activo=2;$.post(baseurl+"index.php/profesionC/cambiarEstado",{activo:activo,idProfesion:idProfesion},function(a,c,b){});
}function estadoVinculacion(){elemento=$(this);idDatoVinculacion=elemento.parents("tr").data("vinculacion");elemento.checkbox("is checked")?activo=1:activo=2;
$.post(baseurl+"index.php/vinculacionC/cambiarEstado",{activo:activo,idDatoVinculacion:idDatoVinculacion},function(a,c,b){});}function estadoPrograma(){elemento=$(this);
idTipoPrograma=elemento.parents("tr").data("programa");elemento.checkbox("is checked")?activo=1:activo=2;$.post(baseurl+"index.php/programaC/cambiarEstado",{activo:activo,idTipoPrograma:idTipoPrograma},function(a,c,b){});
}function estadoTipoVinculacion(){elemento=$(this);idTipoVinculacion=elemento.parents("tr").data("tipovinculacion");elemento.checkbox("is checked")?activo=1:activo=2;
$.post(baseurl+"index.php/tipovinculacionC/cambiarEstado",{activo:activo,idTipoVinculacion:idTipoVinculacion},function(a,c,b){});}function estadoTipoSoporte(){elemento=$(this);
idTipoSoporte=elemento.parents("tr").data("tsoporte");elemento.checkbox("is checked")?activo=1:activo=2;$.post(baseurl+"index.php/tipoSopC/cambiarEstado",{activo:activo,idTipoSoporte:idTipoSoporte},function(a,c,b){});
}function consultaHojasVida(){hojadevida=$("#busqueda").val();tipo=$("#estado").dropdown("get value");elem=$(this);$.post(baseurl+"index.php/hojadevidaC/consultar",{hojadevida:hojadevida,tipo:tipo},function(a,c,b){$("#respuesta").html(a);
});}function consultaPersona(){persona=$("#busqueda").val();elem=$(this);$.post(baseurl+"index.php/personaC/consultar",{persona:persona,},function(a,c,b){$("#respuesta").html(a);
});}function consultaPrograma(){$programa=$("#busqueda").val();$tipo=$("#estado").dropdown("get value");elem=$(this);$.post(baseurl+"index.php/programaC/consultar",{programa:$programa,tipo:$tipo},function(a,c,b){$("#respuesta").html(a);
});}function consultaTipoVinculacion(){$vinculacion=$("#busqueda").val();$tipo=$("#estado").dropdown("get value");elem=$(this);$.post(baseurl+"index.php/tipovinculacionC/consultar",{vinculacion:$vinculacion,tipo:$tipo},function(a,c,b){$("#respuesta").html(a);
});}function consultaVinculacion(){$vinculacion=$("#busqueda").val();$tipo=$("#estado").dropdown("get value");elem=$(this);$.post(baseurl+"index.php/vinculacionC/consultar",{vinculacion:$vinculacion,tipo:$tipo},function(a,c,b){$("#respuesta").html(a);
});}function consultaSoporte(){$tsoporte=$("#busqueda").val();$tipo=$("#estado").dropdown("get value");elem=$(this);$.post(baseurl+"index.php/tipoSopC/consultar",{tsoporte:$tsoporte,tipo:$tipo},function(a,c,b){$("#respuesta").html(a);
});}function consultaDocumento(){tdocumento=$("#busqueda").val();elem=$(this);$.post(baseurl+"index.php/tipoDocC/consultar",{tdocumento:tdocumento},function(a,c,b){$("#respuesta").html(a);
});}function subirSoporte(){string_subirArchivo("#form_soporte",function(){documento=$.trim($("#documentoActualizar").text());$.post(baseurl+"index.php/uploadC/actualizarTablaSoporte",{documento:documento},function(a,c,b){$("#form_soporte input:not(.txt_documento),#form_soporte textarea,#form_soporte select,#form_soporte .dropdown").each(borrarCampo);
$("#tablaSoportes").html(a);});});}function agregaExpForm(){valida=true;var g=$("#empresa").dropdown("get value");var h=$("#empresa").dropdown("get text");
var b=$("#cargo").dropdown("get value");var i=$("#cargo").dropdown("get text");var d=$("#fechaI").val();var f=$("#fechaF").val();var e=$("#jefe").val();
var c=$("#tel").val();var a=$("#inf").val();tabla=$("#tablaExp");cuerpo=$("#filaExp");$(".requerido").each(validaVacio);if(!valida){return false;}tablaExp==0?tabla.show("fast"):false;
mensaje="	<tr> 				<td data-valor="+g+" >"+h+"<td> 				<td data-valor="+b+">"+i+"</td> 				<td>"+d+"</td> 				<td>"+f+"</td> 				<td>"+e+"</td> 				<td class='CTelefono'>"+c+"</td> 				<td>"+a+"</td> 				<td> 					<div class='ui remover icon button red'> 					  <i class='remove icon'></i> 					</div> 				</td> 	    	</tr>	";
cuerpo.append(mensaje);$(".experiencia").each(borrarCampo);}function soportes(){var c=$("#soporteTipo").dropdown("get value");var b=$("#soporteTipo").dropdown("get text");
var d=$("#observacionFile").val();tabla=$("#tablaAnexo");cuerpo=$("#filaAnexo");valida=true;$(".requerido1").each(validaVacio);if(!valida){return false;
}var a="<form class='form_soporte'><div class='field'>			    <div class='ui action input'>			        <input type='text' id='_soporte"+contadorArchivos+"' readonly='true' placeholder='solo archivos pdf, word o excel y maximo 1mb de tamaño'>			        <label for='soporte"+contadorArchivos+"' class='ui icon button teal btn-file' data-content='hola' >			             <i class='upload icon'></i>			             <input type='file' id='soporte"+contadorArchivos+"' name='archivo' style='display: none'>							<input type='hidden' name='tipo'  value='"+c+"' >							<input type='hidden' name='documento' class='txt_documento'>							<input type='hidden' name='descripcion' value='"+d+"'>			        </label>			    </div>			</div>  		</form>";
a="<tr>			 <td colspan='2'>"+b+"</td>			 <td >"+d+"</td>			 <td>"+a+"</td>			 <td> 					<div class='ui remover icon button red'> 					  <i class='remove icon'></i> 					</div> 				</td>      		</tr>";
cuerpo.append(a);tabla.show();contadorArchivos=contadorArchivos+1;$(".certificado").each(borrarCampo);}function borrarFila(){$(this).parent().parent().remove();
}function validarTipoDato(){elemento=$(this);if(elemento.val()==0||elemento.val()==""){return false;}tipo=$.trim(elemento.data("tipo"));minimo=$.trim(elemento.data("minimo"));
maximo=$.trim(elemento.data("maximo"));if(tipo=="numero"){if(!/^([0-9])*$/.test(elemento.val())){$(this).parent().append(string_mensaje("Este campo solo puede llevar numeros!"));
$(this).focus();valida=false;}}if(tipo=="texto"){if(!/^([a-zA-Z ñáéíóúÑÁÉÍÓÚ]{1,200})$/i.test(elemento.val())){$(this).parent().append(string_mensaje("Este campo solo puede llevar letras!"));
$(this).focus();valida=false;}}if(minimo!=""&&minimo>elemento.val().length){$(this).parent().append(string_mensaje("Este campo no cumple con el minimo de "+minimo+" digitos!"));
$(this).focus();valida=false;}if(maximo!=""&&maximo<elemento.val().length){$(this).parent().append(string_mensaje("Este campo contiene mas de "+maximo+" digitos!"));
$(this).focus();valida=false;}if(!valida){return false;}}function guardarHojaVida(){$(".message").remove();valida=true;var v=$("#documento");if(v.next("button").hasClass("red")){$("#documento").parents(".field").append(string_mensaje("Este usuario ya esta registrado"));
return false;}if(!v.next("button").hasClass("green")){$("#documento").parents(".field").append(string_mensaje("No ha ingresado ningun documento"));return false;
}$(".required.validar input,.required.validar .dropdown").each(validaVacio);if(!valida){return false;}$("input").each(validarTipoDato);if(!valida){return false;
}console.log("valildacion hecha exitosamente");var v=$("#documento").val();var A=$("#tipoDocumento").dropdown("get value");var b=$("#nombre").val();var a=$("#PrimerApellido").val();
var q=$("#email").val();var h=$("#SegundoApellido").val();var s=$("#TipoGenero").dropdown("get value");var n=$("#telefono").val();var w=$("#celular").val();
var j=$("#direccion").val();var c=$("#profesion").dropdown("get value");var g=$("#cargoId").dropdown("get value");var r=document.getElementById("filaExp").getElementsByTagName("tr");
var m=new Array();var l=new Array();var k=new Array();var e=new Array();var y=new Array();var C=new Array();var u=new Array();for(var t=0;t<r.length;t++){var x=r[t].childNodes[1].getAttribute("data-valor");
m.push(x);var p=r[t].childNodes[3].getAttribute("data-valor");l.push(p);var o=r[t].childNodes[5].innerHTML;k.push(o);var f=r[t].childNodes[7].innerHTML;
e.push(f);var d=r[t].childNodes[9].innerHTML;y.push(d);var B=r[t].childNodes[11].innerHTML;C.push(B);var z=r[t].childNodes[13].innerHTML;u.push(z);}if(!confirm("Esta seguro que quiere guardar esta hoja de vida?")){return;
}$.post(baseurl+"index.php/hojadevidaC/ingresar",{fotoUsuario:fotoUsuario,email:q,telefono:n,celular:w,direccion:j,profesion:c,cargo:g,documento:v,tipoDocumento:A,PrimerApellido:a,SegundoApellido:h,TipoGenero:s,nombre:b,empresaId:m,cargoOcupo:l,fechaIngreso:k,fechaTermino:e,nombreJefeInmediato:y,TelefonoEmpresa:C,observacionTareas:u},function(i,E,D){$(".txt_documento").val(v);
if($(".form_soporte").length==0){$("input,textarea,select,.dropdown").each(borrarCampo);cuerpo=$("#mensajeHoja");mensaje="<div class='ui positive message'> 										<i id='cerrar' class='close icon'></i> 										<p>Hoja de vida Guardada exitosamente</p> 									</div>";
cuerpo.append(mensaje);$("tbody tr").remove();$(".checkmark.icon").parent().addClass("red").removeClass("green");$(".checkmark.icon").addClass("remove").removeClass("checkmark");
$("#imagen").prop("src",baseurl+"publico/img/esteban.png");fotoUsuario="";}$(".form_soporte").each(function(F,G){string_subirArchivo($(this),function(){contadorSubidos=contadorSubidos+1;
totalRestantes=contadorArchivos-contadorSubidos;if(totalRestantes===0){$("input,textarea,select,.dropdown").each(borrarCampo);cuerpo=$("#mensajeHoja");
mensaje="<div class='ui positive message'> 										<i id='cerrar' class='close icon'></i> 										<p>Hoja de vida Guardada exitosamente</p> 									</div>";
cuerpo.append(mensaje);$("tbody tr").remove();$(".checkmark.icon").parent().addClass("red").removeClass("green");$(".checkmark.icon").addClass("remove").removeClass("checkmark");
$("#imagen").prop("src",baseurl+"publico/img/esteban.png");fotoUsuario="";}});});});}function guardarArea(){$(".message").remove();var a=$("#nombreArea").val();
var b=1;valida=true;$("#formularioAreas .requerido").each(validaVacio);if(!valida){return false;}$("#formularioAreas input").each(validarTipoDato);if(!valida){return false;
}if(!confirm("Esta seguro que quiere guardar esta area?")){return;}$.post(baseurl+"index.php/areaC/ingresar",{nombreArea:a,estadoId:b},function(d,f,e){cuerpo=$("#mensajeArea");
var c="<div class='ui positive message'> 			<i id='cerrar' class='close icon'></i> 			<p>Guardado exitosamente</p> 			</div>";cuerpo.append(c);limpiar();
});}function guardarEmpresa(){$(".message").remove();var d=$("#nombreEmpresa").val();var c=$("#direccion").val();var b=$("#nit").val();var a=1;valida=true;
$("#formularioEmpresa .requerido").each(validaVacio);if(!valida){return false;}$("input").each(validarTipoDato);if(!valida){return false;}if(!confirm("Esta seguro que quiere guardar esta empresa?")){return;
}$.post(baseurl+"index.php/empresaC/ingresar",{nombreEmpresa:d,direccionEmpresa:c,nit:b,estadoId:a},function(e,g,f){cuerpo=$("#mensajeEmpresa");mensaje="<div class='ui positive message'> 			<i id='cerrar' class='close icon'></i> 			<p>Guardado exitosamente</p> 			</div>";
cuerpo.append(mensaje);limpiar();});}function limpiar(){$("form").form("clear");}function guardarCargo(){$(".message").remove();var b=$("#nombreCargo").val();
var a=1;valida=true;$("#formularioCargo .requerido").each(validaVacio);if(!valida){return false;}$("#formularioCargo input").each(validarTipoDato);if(!valida){return false;
}if(!confirm("Esta seguro que quiere guardar este cargo?")){return;}$.post(baseurl+"index.php/cargoC/ingresar",{nombreCargo:b,estadoId:a},function(c,e,d){cuerpo=$("#mensajeCargo");
mensaje="<div class='ui positive message'> 			<i id='cerrar' class='close icon'></i> 			<p>Guardado exitosamente</p> 		</div>";cuerpo.append(mensaje);limpiar();
});}function guardarUsuario(){$(".message").remove();var d=$("#documentoUsuario");if(d.next("button").hasClass("red")){$("#documentoUsuario").parents(".field").append(string_mensaje("Este usuario ya esta registrado"));
return false;}if(!d.next("button").hasClass("green")){$("#documentoUsuario").parents(".field").append(string_mensaje("No ha ingresado ningun documento"));
return false;}$("input").each(validarTipoDato);if(!valida){return false;}$(".required input").each(validaVacio);if(!valida){return false;}var a=$("#nombreUsuario").val();
var g=$("#areaId").dropdown("get value");var c=$("#password").val();var d=$("#documentoUsuario").val();var f=$("#rolId").dropdown("get value");var e=$("#cargoId").dropdown("get value");
var b=1;if(!confirm("Esta seguro que quiere guardar este usuario?")){return;}$.post(baseurl+"index.php/usuarioC/ingresar",{nombreUsuario:a,areaId:g,password:c,documentoUsuario:d,rolId:f,estadoId:b,cargoId:e},function(h,j,i){cuerpo=$("#mensajeUsuario");
mensaje="<div class='ui positive message'> 			<i id='cerrar' class='close icon'></i> 			<p>Guardado exitosamente</p> 		</div>";cuerpo.append(mensaje);$("input,textarea,select,.dropdown").each(borrarCampo);
$(".checkmark.icon").parent().addClass("red").removeClass("green");$(".checkmark.icon").addClass("remove").removeClass("checkmark");});}function guardarProfesion(){$(".message").remove();
valida=true;var b=$("#nombreProfesion").val();var a=1;$("input").each(validarTipoDato);if(!valida){return false;}$("#formularioProfesion .requerido").each(validaVacio);
if(!valida){return false;}if(!confirm("Esta seguro que quiere guardar esta profesion?")){return;}$.post(baseurl+"index.php/profesionC/ingresar",{nombreProfesion:b,estadoId:a},function(c,e,d){cuerpo=$("#mensajeProfesion");
mensaje="<div class='ui positive message'> 			<i id='cerrar' class='close icon'></i> 			<p>Guardado exitosamente</p> 		</div>";cuerpo.append(mensaje);limpiar();
});}function guardarPrograma(){$(".message").remove();var b=$("#nombreTipoPrograma").val();var a=1;$("input").each(validarTipoDato);if(!valida){return false;
}valida=true;$("#formularioPrograma .requerido").each(validaVacio);if(!valida){return false;}if(!confirm("Esta seguro que quiere guardar este programa?")){return;
}$.post(baseurl+"index.php/programaC/ingresar",{nombreTipoPrograma:b,estadoId:a},function(c,e,d){cuerpo=$("#mensajePrograma");mensaje="<div class='ui positive message'> 			<i id='cerrar' class='close icon'></i> 			<p>Guardado exitosamente</p> 			</div>";
cuerpo.append(mensaje);limpiar();});}function guardarTipoVinculacion(){$(".message").remove();var b=$("#nombreTipoVinculacion").val();var a=1;$("input").each(validarTipoDato);
if(!valida){return false;}valida=true;$("#formularioTipoVinculacion .requerido").each(validaVacio);if(!valida){return false;}if(!confirm("Esta seguro que quiere guardar este tipo de vinculacion?")){return;
}$.post(baseurl+"index.php/tipovinculacionC/ingresar",{nombreTipoVinculacion:b,estadoId:a},function(c,e,d){cuerpo=$("#mensajeTipoVinculacion");mensaje="<div class='ui positive message'> 			<i id='cerrar' class='close icon'></i> 			<p>Guardado exitosamente</p> 			</div>";
cuerpo.append(mensaje);limpiar();});}function guardarVinculacion(){valida=true;$(".message").remove();var i=$(this).data("documento");$("input").each(validarTipoDato);
if(!valida){return false;}var h=$(this).data("valor");var b=$("#cargoId").dropdown("get value");var f=$("#tipoDePrograma").dropdown("get value");var c=$("#tipoVinculacion").dropdown("get value");
var e=$("#sueldo").val();var a=$("#cuentaBancaria").val();var j=$("#fechaIngreso").val();var k=$("#fechaTermino").val();var d=$("#calificacion").val();
var l=$("#observacionVinculacion").val();var g=1;$(".requerido").each(validaVacio);if(!valida){return false;}if(!confirm("Esta seguro que quiere vincular esta persona?")){return;
}$.post(baseurl+"index.php/vinculacionC/ingresar",{documento:h,cargoId:b,tipoDePrograma:f,tipoVinculacion:c,sueldo:e,fechaIngreso:j,fechaTermino:k,calificacion:d,observacionVinculacion:l,estadoId:g,cuentaBancaria:a},function(m,o,n){window.location.reload();
});}function guardarTipoSoporte(){$(".message").remove();valida=true;var b=$("#nombreSoporte").val();var a=1;$("input").each(validarTipoDato);if(!valida){return false;
}$("#formularioSoporte .requerido").each(validaVacio);if(!valida){return false;}if(!confirm("Esta seguro que quiere guardar este tipo de soporte?")){return;
}$.post(baseurl+"index.php/tipoSopC/ingresar",{nombreSoporte:b,estadoId:a},function(c,e,d){cuerpo=$("#mensajeTipoSoporte");mensaje="<div class='ui positive message'> 			<i id='cerrar' class='close icon'></i> 			<p>Guardado exitosamente</p> 			</div>";
cuerpo.append(mensaje);limpiar();});}function guardarTipoDocumento(){$(".message").remove();var a=$("#nombreTipoDocumento").val();valida=true;$("#formularioTipoDoc .requerido").each(validaVacio);
if(!valida){return false;}if(!confirm("Esta seguro que quiere guardar este tipo de documento?")){return;}$.post(baseurl+"index.php/tipoDocC/ingresar",{nombreTipoDocumento:a},function(b,d,c){cuerpo=$("#mensajeTipoDocumento");
mensaje="<div class='ui positive message'> 			<i id='cerrar' class='close icon'></i> 			  <p>Guardado exitosamente</p> 			</div>";cuerpo.append(mensaje);
limpiar();});}function cerrar(){$(this).closest(".message").fadeOut();}function validarExistenciaPersona(){elemento=$(this);boton=elemento.next("button");
boton.removeClass("red").removeClass("green");icono=boton.children("i");icono.removeClass("checkmark").removeClass("remove").removeClass("refresh");$.post(baseurl+"index.php/usuarioC/verificarPersona",{usuario:elemento.val()},function(a,c,b){console.log(a);
a==1?boton.addClass("red"):boton.addClass("green");a==1?icono.addClass("remove"):icono.addClass("checkmark");});}function validarExistenciaUsuario(){elemento=$(this);
boton=elemento.next("button");boton.removeClass("red").removeClass("green");icono=boton.children("i");icono.removeClass("checkmark").removeClass("remove").removeClass("refresh");
$.post(baseurl+"index.php/usuarioC/verificarUsuario",{documentoUsuario:elemento.val()},function(a,c,b){console.log(a);a==1?boton.addClass("red"):boton.addClass("green");
a==1?icono.addClass("remove"):icono.addClass("checkmark");});}function validarVinculacion(){elemento=$(this);boton=elemento.next("button");boton.removeClass("red").removeClass("green");
icono=boton.children("i");icono.removeClass("checkmark").removeClass("remove").removeClass("refresh");$.post(baseurl+"index.php/vinculacionC/verificarVinculacion",{documentoVinculacion:elemento.val()},function(a,c,b){console.log(a);
a==1?boton.addClass("red"):boton.addClass("green");a==1?icono.addClass("remove"):icono.addClass("checkmark");});}function cargarArea(){valida=true;$(".requerido1").each(validaVacio);
if(!valida){return false;}area=$("#busqueda").val();elem=$(this);$.post(baseurl+"index.php/areaC/consultar1",{area:area,},function(a,c,b){$("#respuesta").html(a);
});}function actualizarArea(){$(".message").remove();var a=$("#nombreArea").val();var b=$("#nombreArea").data("valor");valida=true;$(".requerido").each(validaVacio);
if(!valida){return false;}if(!confirm("Esta seguro que quiere actualizar esta area?")){return;}$.post(baseurl+"index.php/areaC/actualizar",{nombreArea:a,idArea:b},function(c,e,d){cuerpo=$("#mensajeArea");
mensaje="<div class='ui positive message'> 			<i id='cerrar' class='close icon'></i> 			  <p>Actualizado exitosamente</p> 			</div>";cuerpo.append(mensaje);
});}function actualizarCargo(){$(".message").remove();var b=$("#nombreCargo").val();var a=$("#idCargo").val();valida=true;$(".requerido").each(validaVacio);
if(!valida){return false;}if(!confirm("Esta seguro que quiere actualizar este cargo?")){return;}$.post(baseurl+"index.php/cargoC/actualizar",{nombreCargo:b,idCargo:a},function(c,e,d){cuerpo=$("#mensajeCargo");
mensaje="<div class='ui positive message'> 			<i id='cerrar' class='close icon'></i> 			  <p>Actualizado exitosamente</p> 			</div>";cuerpo.append(mensaje);
});}function actualizarUsuario(){$(".message").remove();var b=$("#documentoUsuario").val();var a=$("#nombreUsuario").val();var d=$("#rolId").val();var e=$("#areaId").val();
var c=$("#cargoId").val();valida=true;$(".requerido").each(validaVacio);if(!valida){return false;}if(!confirm("Esta seguro que quiere actualizar este usuario?")){return;
}$.post(baseurl+"index.php/usuarioC/actualizar",{documentoUsuario:b,nombreUsuario:a,rolId:d,areaId:e,cargoId:c},function(f,h,g){console.log("Actualizado usuario");
cuerpo=$("#mensajeUsuario");mensaje="<div class='ui positive message'> 			<i id='cerrar' class='close icon'></i> 			  <p>Actualizado exitosamente</p> 			</div>";
cuerpo.append(mensaje);});}function actualizarEmpresa(){$(".message").remove();var d=$("#nombreEmpresa").val();var c=$("#nit").val();var b=$("#direccion").val();
var a=$("#idEmpresa").val();valida=true;$(".requerido").each(validaVacio);if(!valida){return false;}if(!confirm("Esta seguro que quiere actualizar esta empresa?")){return;
}$.post(baseurl+"index.php/empresaC/actualizar",{nombreEmpresa:d,idEmpresa:a,nit:c,direccionEmpresa:b},function(e,g,f){cuerpo=$("#mensajeEmpresa");mensaje="<div class='ui positive message'> 			<i id='cerrar' class='close icon'></i> 			  <p>Actualizado exitosamente</p> 			</div>";
cuerpo.append(mensaje);});}function actualizarProfesion(){$(".message").remove();var b=$("#nombreProfesion").val();var a=$("#idProfesion").val();valida=true;
$(".requerido").each(validaVacio);if(!valida){return false;}if(!confirm("Esta seguro que quiere actualizar esta profesion?")){return;}$.post(baseurl+"index.php/profesionC/actualizar",{nombreProfesion:b,idProfesion:a},function(c,e,d){cuerpo=$("#mensajeProfesion");
mensaje="<div class='ui positive message'> 			<i id='cerrar' class='close icon'></i> 			  <p>Actualizado exitosamente</p> 			</div>";cuerpo.append(mensaje);
});}function actualizarPrograma(){$(".message").remove();var a=$("#nombreTipoPrograma").val();var b=$("#idTipoPrograma").val();valida=true;$(".requerido").each(validaVacio);
if(!valida){return false;}if(!confirm("Esta seguro que quiere actualizar este programa?")){return;}$.post(baseurl+"index.php/programaC/actualizar",{nombreTipoPrograma:a,idTipoPrograma:b},function(c,e,d){cuerpo=$("#mensajePrograma");
mensaje="<div class='ui positive message'> 			<i id='cerrar' class='close icon'></i> 			  <p>Actualizado exitosamente</p> 			</div>";cuerpo.append(mensaje);
});}function actualizarTipoVinculacion(){$(".message").remove();var b=$("#nombreTipoVinculacion").val();var a=$("#idTipoVinculacion").val();valida=true;
$(".requerido").each(validaVacio);if(!valida){return false;}if(!confirm("Esta seguro que quiere actualizar este tipo de vinculacion?")){return;}$.post(baseurl+"index.php/tipovinculacionC/actualizar",{nombreTipoVinculacion:b,idTipoVinculacion:a},function(c,e,d){cuerpo=$("#mensajeVinculacion");
mensaje="<div class='ui positive message'> 			<i id='cerrar' class='close icon'></i> 			  <p>Actualizado exitosamente</p> 			</div>";cuerpo.append(mensaje);
});}function actualizarTipoSoporte(){$(".message").remove();var a=$("#nombreTipoSoporte").val();var b=$("#idTipoSoporte").val();valida=true;$(".requerido").each(validaVacio);
if(!valida){return false;}if(!confirm("Esta seguro que quiere actualizar este tipo de soporte?")){return;}$.post(baseurl+"index.php/tipoSopC/actualizar",{nombreTipoSoporte:a,idTipoSoporte:b},function(c,e,d){cuerpo=$("#mensajeTipoSoporte");
mensaje="<div class='ui positive message'> 			<i id='cerrar' class='close icon'></i> 			  <p>Actualizado exitosamente</p> 			</div>";cuerpo.append(mensaje);
});}function actualizarTipoDocumento(){$(".message").remove();var b=$("#nombreTipoDocumento").val();var a=$("#idTipoDocumento").val();valida=true;$(".requerido").each(validaVacio);
if(!valida){return false;}if(!confirm("Esta seguro que quiere actualizar este tipo de documento?")){return;}$.post(baseurl+"index.php/tipoDocC/actualizar",{nombreTipoDocumento:b,idTipoDocumento:a},function(c,e,d){cuerpo=$("#mensajeTipoDocumento");
mensaje="<div class='ui positive message'> 			<i id='cerrar' class='close icon'></i> 			  <p>Actualizado exitosamente</p> 			</div>";cuerpo.append(mensaje);
});}function actualizarVinculacion(){$(".message").remove();elemento=$(this);idVinculaion=elemento.data("valor");var e=$("#cargoId").val();var h=$("#tipoDePrograma").val();
var d=$("#tipoVinculacion").val();var f=$("#sueldo").val();var b=$("#fechaIngreso").val();var g=$("#fechaTermino").val();var c=$("#calificacion").val();
var a=$("#observacionVinculacion").val();valida=true;$(".requerido").each(validaVacio);if(!valida){return false;}if(!confirm("Esta seguro que quiere actualizar?")){return;
}$.post(baseurl+"index.php/vinculacionC/actualizar",{idVinculaion:idVinculaion,cargo:e,tipoDePrograma:h,tipoVinculacion:d,sueldo:f,fechaIngreso:b,fechaTermino:g,calificacion:c,observacionVinculacion:a},function(i,k,j){cuerpo=$("#mensajeVinculacion");
mensaje="<div class='ui positive message'> 			<i id='cerrar' class='close icon'></i> 			  <p>Actualizado exitosamente</p> 			</div>";cuerpo.append(mensaje);
});}function actualizarClave(){$(".message").remove();var a=$("#claveAnterior");var b=$("#nuevaClave");var c=$("#confirmarClave");valida=true;$(".requerido").each(validaVacio);
if(!valida){return false;}console.log("test");if(b.val()!==c.val()){c.parent().append(string_mensaje("No coincide su nueva clave y la confirmacion de la nueva clave"));
return;}if(!confirm("Esta seguro que quiere actualizar?")){return;}$.post(baseurl+"index.php/usuarioC/cambiarClave",{claveAnterior:a.val(),nuevaClave:b.val(),confirmarClave:c.val()},function(d,f,e){if(d==0){a.parent().append(string_mensaje("Su clave anterior es incorrecta"));
}else{$(".segment").append(string_mensaje("Su clave ha sido actualizada correctamente","positive"));}$("input,textarea,select,.dropdown").each(borrarCampo);
});}function void_RestablecerClave(){elemento=$(this);usuario=elemento.parents("tr").data("usuario");if(!confirm("Esta seguro que quiere reestablecer la clave de este usuario??")){return;
}$.post(baseurl+"index.php/usuarioC/restablecerClave",{usuario:usuario},function(a,c,b){alert("La clave ha sido reestablecida como 123");});}function desvincular(){$(".message").remove();
valida=true;elemento=$(this);idVinculaion=elemento.data("valor");documento=elemento.data("documento");$(".requerido").each(validaVacio);if(!valida){return false;
}var a=$("#razon").val();var b=$("#observacion").val();if(!confirm("Esta seguro que quiere desvincular esta persona?")){return;}$.post(baseurl+"index.php/vinculacionC/desvincular",{razon:a,detalle:b,idVinculaion:idVinculaion,documento:documento},function(c,e,d){alert("Desvinculado exitosamente!");
window.location.reload();});}function actualizarHojaVida(){$(".message").remove();valida=true;var s=$.trim($("#documentoActualizar").text());var b=$("#nombre").val();
var a=$("#PrimerApellido").val();var h=$("#SegundoApellido").val();var n=$("#telefono").val();var u=$("#celular").val();var j=$("#direccion").val();var c=$("#profesion").val();
var g=$("#cargoId").val();var q=document.getElementById("filaExp").getElementsByTagName("tr");var m=new Array();var l=new Array();var k=new Array();var e=new Array();
var w=new Array();var z=new Array();var t=new Array();for(var r=0;r<q.length;r++){var v=q[r].childNodes[1].getAttribute("data-valor");m.push(v);var p=q[r].childNodes[3].getAttribute("data-valor");
l.push(p);var o=q[r].childNodes[5].innerHTML;k.push(o);var f=q[r].childNodes[7].innerHTML;e.push(f);var d=q[r].childNodes[9].innerHTML;w.push(d);var y=q[r].childNodes[11].innerHTML;
z.push(y);var x=q[r].childNodes[13].innerHTML;t.push(x);}if(!confirm("Esta seguro que quiere actualizar esta hoja de vida?")){return;}$.post(baseurl+"index.php/hojadevidaC/actualizar",{empresaId:m,cargoOcupo:l,fechaIngreso:k,fechaTermino:e,nombreJefeInmediato:w,TelefonoEmpresa:z,observacionTareas:t,telefono:n,celular:u,direccion:j,profesion:c,cargo:g,documento:s,PrimerApellido:a,SegundoApellido:h,nombre:b},function(i,B,A){cuerpo=$("#mensajeHoja");
mensaje="<div class='ui positive message'> 							<i id='cerrar' class='close icon'></i> 							<p>Hoja de vida Actualizada exitosamente</p> 						</div>";
cuerpo.append(mensaje);$("#filaExp").html("");});}